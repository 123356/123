@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>StationRoom</title>
    @Html.Partial("~/Views/Home/BaseHTML.cshtml")
    <script src="~/Content/UserJS/menucontrol._jm.js" type="text/javascript"></script>
    <script src="~/Content/js/echarts.min3.js" type="text/javascript"></script>
</head>
<body>
<div class="table_page">
    <div class="table_pagetop">
        <div id="Histb" class="searchbar searchbar2">
            <div class="searchrow">
                站室选择:
                <select id="SPID" class="easyui-combobox" style="width: 150px; height: 26px;">
                    <option>请选择</option>
                </select>
            </div>
            <div class="searchrow">
                报警日期:
                <input type="radio" class="GraphType" name="GraphType" value="6" onclick=" " checked="checked" />今天
                <input type="radio" class="GraphType" name="GraphType" value="72" onclick=" " />本周
                <input type="radio" class="GraphType" name="GraphType" value="616"  />自定义
                <input id="StartDate" class="easyui-datebox" style="width: 150px; height: 26px;" />
                至
                <input id="EndDate" class="easyui-datebox" style="width: 150px; height: 26px;" />
            </div>
            <div class="searchrow">
                报警类型:
                <select id="SPID" class="easyui-combobox" style="width: 150px; height: 26px;">
                    <option>全部</option>
                    <option>功率因数越限</option>
                    <option>三相不平衡度越限</option>
                    <option>电压不平衡度越限</option>
                    <option>电流越限</option>
                    <option>电压越限</option>
                </select>
            </div>
            <div class="searchrow">
                报警确认:
                <select id="SPID" class="easyui-combobox" style="width: 150px; height: 26px;">
                    <option>全部</option>
                </select>
            </div>
            <div class="searchbutton">
                <button title="查 询" onclick="" class="page_table_but"><img src="/Content/images/Icon16/zoom.png">查 询</button>
            </div>
        </div>
    </div>
    <table width="99%" align="center" border="0" cellspacing="0" cellpadding="0" class="page_table_list">
        <thead>
           <tr>
                <th height="35" scope="col" width="5%">
                    序号
                </th>
                <th scope="col">
                    报警类型
                </th>
                <th scope="col">
                    报警设备
                </th>
                <th scope="col">
                    起始时间
                </th>
                <th scope="col">
                    结束时间
                </th>
                <th scope="col">
                    报警内容
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th width="5%">
                    1
                </th>
                <td>
                    功能因数越限
                </td>
                <td>
                    1#变压器
                </td>
                <td>
                    2016-06-23 09：50：21
                </td>
                <td>
                    2016-06-23 09：50：21
                </td>
                <td>
                    实际值0.78，限值“0.90
                </td>
            </tr>
            <tr>
                <th width="5%">
                    2
                </th>
                <td>
                    功能因数越限
                </td>
                <td>
                    1#变压器
                </td>
                <td>
                    2016-06-23 09：50：21
                </td>
                <td>
                    2016-06-23 09：50：21
                </td>
                <td>
                    实际值0.78，限值“0.90
                </td>
            </tr>
            <tr>
                <th width="5%">
                    3
                </th>
                <td>
                    功能因数越限
                </td>
                <td>
                    1#变压器
                </td>
                <td>
                    2016-06-23 09：50：21
                </td>
                <td>
                    2016-06-23 09：50：21
                </td>
                <td>
                    实际值0.78，限值“0.90
                </td>
            </tr>
        </tbody>
    </table>
    
</div>
</body>
</html>
<script type="text/javascript">
    $("#currPosition", window.top.document).html("当前位置：电能 > 报警 "); 
    var myChart = echarts.init(document.getElementById('userCharts1'));
    var myChart2 = echarts.init(document.getElementById('userCharts2'));
    var myChart3 = echarts.init(document.getElementById('userCharts3'));
    var option = {
    title: {
        text: "分类能耗对比",
        textStyle: {
            color: "rgb(255, 255, 255)"
        },
        padding: 15
    },
    tooltip: {
        trigger: "axis",
        show: true,
        islandFormatter: "{a} <br>{b} : {c}"
    },
    toolbox: {
        show: false,
        feature: {
            mark: {
                show: true
            },
            dataView: {
                show: true,
                readOnly: true
            },
            magicType: {
                show: false,
                type: ["line", "bar"]
            },
            restore: {
                show: true
            },
            saveAsImage: {
                show: true
            }
        }
    },
    calculable: false,
    xAxis: [
        {
            type: "category",
            data: ["xx", "xx", "xx", "xx", "xx", "xx", "xx"],
            axisLabel: {
                textStyle: {
                    color: "rgb(255, 255, 255)",
                    fontSize: 12
                },
                show: true
            },
            splitLine: {
                show: false,
                lineStyle: {
                    type: "dashed",
                    color: "#C4EAFC"
                }
            },
            splitArea: {
                show: false,
                areaStyle: {
                    type: "default"
                }
            },
            axisLine: {
                show: true,
                lineStyle: {
                    color: "rgb(255, 255, 255)",
                    width: 3
                }
            },
            axisTick: {
                show: false
            }
        }
    ],
    yAxis: [
        {
            type: "value",
            axisLabel: {
                textStyle: {
                    color: "rgb(255, 255, 255)",
                    fontSize: 12
                },
                show: true
            },
            splitLine: {
                show: true,
                lineStyle: {
                    type: "dashed",
                    color: "rgb(51, 51, 51)"
                }
            },
            axisLine: {
                show: true,
                lineStyle: {
                    color: "rgb(255, 255, 255)",
                    width: 3
                }
            },
            nameLocation: "end",
            nameTextStyle: {
                color: "rgb(255, 255, 255)",
                fontSize: 14
            },
            splitArea: {
                show: false
            },
            axisTick: {
                show: false
            }
        }
    ],
    series: [
        {
            name: "环比",
            type: "bar",
            data: [100, 150, 450, 700, 400, 350, 300],
            barWidth: 26,
            itemStyle: {
                normal: {
                    label: {
                        position: "left"
                    }
                }
            }
        }
    ],
    backgroundColor: "rgb(0, 0, 0)",
    grid: {
        x: 54,
        y: 76,
        x2: 33,
        y2: 60,
        borderWidth: 0
    },
    color: ["rgb(29, 187, 55)", "rgb(255, 127, 0)", "rgb(86, 170, 255)", "#32cd32", "#6495ed", "#ff69b4", "#ba55d3", "#cd5c5c", "#ffa500", "#40e0d0", "#1e90ff", "#ff6347", "#7b68ee", "#00fa9a", "#ffd700", "#6699FF", "#ff6666", "#3cb371", "#b8860b", "#30e0e0"]
};
    myChart.setOption(option);

    var option2 = {
    tooltip: {
        trigger: "item",
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        orient: "vertical",
        x: "left",
        data: ["动力", "空调", "插座", "电梯", "照明"],   
        textStyle: {
            color: "rgb(255, 255, 255)",
            fontSize: 14,
            fontStyle: "normal",
            fontWeight: "normal",
            align: "center",
            baseline: "middle"
        },
        y: "center",
        itemGap: 10,
        itemHeight: 10,
        itemWidth: 20,
        padding: 15
    },
    toolbox: {
        show: false,
        feature: {
            mark: {
                show: true
            },
            dataView: {
                show: true,
                readOnly: true
            },
            restore: {
                show: true
            },
            saveAsImage: {
                show: true
            }
        }
    },
    calculable: false,
    series: [
        {
            name: "分类能耗比例",
            type: "pie",
            radius: ["50%", "70%"],
            itemStyle: {
                normal: {
                    label: {
                        show: false,
                        formatter: "{a}",
                        position: "left"
                    },
                    labelLine: {
                        show: false
                    }
                },
                emphasis: {
                    label: {
                        show: true,
                        position: "center",
                        textStyle: {
                            align:'center',
                            fontSize: 18,
                            fontWeight: "bold",
                            fontStyle: "normal",
                            color: "rgb(255, 255, 255)"
                        }
                    }
                }
            },
            data: [
                {
                    value: 50,
                    name: "动力"
                },
                {
                    value: 10,
                    name: "空调"
                },
                {
                    value: 10,
                    name: "插座"
                },
                {
                    value: 10,
                    name: "电梯"
                },
                {
                    value: 20,
                    name: "照明"
                }
            ],
            center: ["65%", "50%"]
        }
    ],
    backgroundColor: "rgb(0, 0, 0)",
    title: {
        text: "分类能耗比例",
        textStyle: {
            color: "rgb(255, 255, 255)"
        },
        padding: 15
    },
    color: ["rgb(44, 182, 229)", "rgb(255, 102, 0)", "rgb(53, 204, 51)", "rgb(255, 255, 5)", "rgb(48, 108, 96)", "#ff69b4", "#ba55d3", "#cd5c5c", "#ffa500", "#40e0d0", "#1e90ff", "#ff6347", "#7b68ee", "#00fa9a", "#ffd700", "#6699FF", "#ff6666", "#3cb371", "#b8860b", "#30e0e0"]
};
    myChart2.setOption(option2);

    var option3 = {
        title: {
            text: "能耗变化趋势",
            textStyle: {
                color: "rgb(255, 255, 255)"
            },
            padding: 15
        },
        tooltip: {
            trigger: "axis"
        },
        toolbox: {
            show: false,
            feature: {
                mark: {
                    show: true
                },
                dataView: {
                    show: true,
                    readOnly: true
                },
                magicType: {
                    show: false,
                    type: ["line", "bar", "stack", "tiled"]
                },
                restore: {
                    show: true
                },
                saveAsImage: {
                    show: true
                }
            }
        },
        calculable: true,
        xAxis: [
        {
            type: "category",
            boundaryGap: false,
            data: ["周一", "周二", "周三", "周四", "周五", "周六"],
            axisLine: {
                lineStyle: {
                    color: "rgb(255, 255, 255)",
                    width: 3
                }
            },
            splitLine: {
                show: false
            },
            splitArea: {
                show: true
            },
            axisLabel: {
                show: true,
                textStyle: {
                    color: "rgb(255, 255, 255)"
                }
            }
        }
    ],
        yAxis: [
        {
            type: "value",
            min: 0,
            max: 750,
            axisLine: {
                lineStyle: {
                    color: "rgb(255, 255, 255)",
                    width: 3
                }
            },
            splitLine: {
                show: true,
                lineStyle: {
                    color: "rgb(51, 51, 51)",
                    type: "dashed"
                }
            },
            axisLabel: {
                show: true,
                textStyle: {
                    color: "rgb(255, 255, 255)",
                    fontSize: 12
                },
                formatter: "{value}"
            },
            nameLocation: "end",
            nameTextStyle: {
                fontSize: 14
            }
        }
    ],
        series: [
        {
            name: "能耗",
            type: "line",
            smooth: true,
            itemStyle: {
                normal: {
                    color: "#ef912f",
                    lineStyle: {
                        color: "#ef912f"
                    },
                    areaStyle: {
                        color: "rgb(100, 170, 224)",
                        type: "default"
                    }
                }
            },
            areaStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: '#ef912f'
                    }, {
                        offset: 1,
                        color: 'transparent'
                    }])
                }
            },
            data: [200, 300, 410, 530, 630, 620]
        }
    ],
        backgroundColor: "rgb(0, 0, 0)",
        grid: {
            x: 54,
            y: 86,
            x2: 33,
            y2: 60
        }
    };
    myChart3.setOption(option3);
    </script>
<script type="text/javascript">
    var Request = new Object();
    Request = GetRequest();
    var pid = 6, sid = 0;   
    if (Request['pid'] != null)
        pid = Request['pid'];
    if (Request['sid'] != null)
        sid = Request['sid'];
//    if (pid > 0)
//        $.cookie('cookiepid', pid, { expires: 7, path: '/' });
    pid = $.cookie('cookiepid');
    //$.cookie('cookiepid', pid, { expires: 7, path: '/' });
    //var ajaxbg = top.$("#loading_background,#loading");
    //    var timeTicket;
    //    clearInterval(timeTicket);
    //    timeTicket = setInterval(function () {
    //        initRealTemp();
    //    }, 300000);
    //    initRealTemp(); //获取实时数据
    //    function initRealTemp() {
    //        //ajaxbg.show();
    //        $.ajaxSettings.async = true;  //同步才能获取数据
    //        $.post("/PDRInfo/RealTimeTemp", { "pid": pid }, function (data) {
    //            var pointslist = eval("(" + data + ")");
    //            //ajaxbg.hide();
    //            $("#realtempinfo").html(pointslist);
    //        });
    //    }

    // $("#onecontent").attr('src', '/PDRInfo/OneGraph?pid=23');
    //$("#currPosition", window.parent.document).html("当前位置:"); 设置当前位置
//    $.post("/Home/GetCurrentNav", { "pid": pid }, function (data) {
//        var currnav = data.split('|');
//        $("#currPosition", window.parent.document).html(currnav[0]);
//        //$.cookie('eadonav', currnav[0], { expires: 7, path: '/' });
//    });
</script>
