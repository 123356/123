var __encode = 'jiami.com', _0xb483 = ["\x5F\x64\x65\x63\x6F\x64\x65", "\x68\x74\x74\x70\x3A\x2F\x2F\x77\x77\x77\x2E\x73\x6F\x6A\x73\x6F\x6E\x2E\x63\x6F\x6D\x2F\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x6F\x62\x66\x75\x73\x63\x61\x74\x6F\x72\x2E\x68\x74\x6D\x6C"]; (function (_0xd642x1) { _0xd642x1[_0xb483[0]] = _0xb483[1] })(window); var __Ox228c1 = ["", "\x75\x73\x65\x72\x43\x68\x61\x72\x74\x73\x31", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64", "\x69\x6E\x69\x74", "\x75\x73\x65\x72\x43\x68\x61\x72\x74\x73\x32", "\x2F\x45\x53\x2F\x55\x6E\x69\x74\x43\x6F\x6D\x62\x6F\x44\x61\x74\x61\x3F\x69\x73\x61\x6C\x6C\x3D", "\x74\x72\x75\x65", "\x55\x6E\x69\x74\x49\x44", "\x55\x6E\x69\x74\x4E\x61\x6D\x65", "\x67\x65\x74\x44\x61\x74\x61", "\x63\x6F\x6D\x62\x6F\x62\x6F\x78", "\x23\x75\x6E\x69\x74\x73\x65\x6C\x65\x63\x74", "\x6C\x65\x6E\x67\x74\x68", "\x73\x65\x74\x56\x61\x6C\x75\x65", "\x63\x6C\x65\x61\x72", "\x2F\x45\x53\x2F\x67\x65\x74\x4A\x75\x65\x43\x65\x44\x61\x74\x61\x5F\x46\x58", "\x67\x65\x74\x56\x61\x6C\x75\x65", "\x73\x6F\x75\x72\x65", "\x6D\x6F\x6E\x74\x68", "\x67\x6F\x75\x64\x69\x61\x6E", "\x74\x61\x62\x6C\x65", "\x70\x6F\x73\x74", "\x73\x6C\x69\x63\x65", "\x67\x65\x74\x46\x75\x6C\x6C\x59\x65\x61\x72", "\x67\x65\x74\x4D\x6F\x6E\x74\x68", "\x67\x65\x74\x44\x61\x74\x65", "\x67\x65\x74\x48\x6F\x75\x72\x73", "\x67\x65\x74\x4D\x69\x6E\x75\x74\x65\x73", "\x67\x65\x74\x53\x65\x63\x6F\x6E\x64\x73", "\x2D", "\x70\x75\x73\x68", "\x74\x6F\x46\x69\x78\x65\x64", "\x53\x75\x6D\x70\x6C\x61\x6E", "\x65\x61\x63\x68", "\x53\x75\x6D\x50\x6C\x61\x6E\x55\x73\x65\x50\x6F\x77\x65\x72", "\u6708\u4EFD", "\x61\x78\x69\x73", "\u5B9E\u9645\u7528\u7535\u91CF", "\u8BA1\u5212\u7528\u7535\u91CF", "\u504F\u5DEE\u7387", "\x6E\x6F\x6E\x65", "\x6C\x69\x6E\x65", "\x62\x61\x72", "\x63\x61\x74\x65\x67\x6F\x72\x79", "\x76\x61\x6C\x75\x65", "\x7B\x76\x61\x6C\x75\x65\x7D", "\x7B\x76\x61\x6C\x75\x65\x7D\x25", "\x73\x65\x74\x4F\x70\x74\x69\x6F\x6E"]; var pid = 1, did = 1, cid = 1, totaltype = 1, datatypeid = 12, datestart, dateend, canAdd = 0, gradeType = 6; var userType = __Ox228c1[0x0], areaType = __Ox228c1[0x0], itemType = __Ox228c1[0x0], titlePie = __Ox228c1[0x0], titleBar = __Ox228c1[0x0], t1 = __Ox228c1[0x0], t2 = __Ox228c1[0x0]; var myChart1 = echarts[__Ox228c1[0x3]](document[__Ox228c1[0x2]](__Ox228c1[0x1])); var myChart2 = echarts[__Ox228c1[0x3]](document[__Ox228c1[0x2]](__Ox228c1[0x4])); $(function () { loadSelectUnit(); GetUnitPlan() }); function loadSelectUnit() { $(__Ox228c1[0xb])[__Ox228c1[0xa]]({ url: __Ox228c1[0x5] + __Ox228c1[0x6], valueField: __Ox228c1[0x7], textField: __Ox228c1[0x8], editable: true, onLoadSuccess: function () { var _0xf14cx14 = $(__Ox228c1[0xb])[__Ox228c1[0xa]](__Ox228c1[0x9]); if (_0xf14cx14[__Ox228c1[0xc]] > 0) { $(__Ox228c1[0xb])[__Ox228c1[0xa]](__Ox228c1[0xd], _0xf14cx14[0x0].UnitID) }; loadSelectPZ() }, onChange: function (_0xf14cx15) { getMonthData_FX(); getLastMonthData_FX() } }) } function getMonthData_FX() { myChart1[__Ox228c1[0xe]](); $[__Ox228c1[0x15]](__Ox228c1[0xf], { type: 1, uid: $(__Ox228c1[0xb])[__Ox228c1[0xa]](__Ox228c1[0x10]) }, function (_0xf14cx14) { PowerKehuIndustryData_FX(_0xf14cx14[__Ox228c1[0x11]], _0xf14cx14[__Ox228c1[0x12]], _0xf14cx14[__Ox228c1[0x13]], _0xf14cx14[__Ox228c1[0x14]]) }) } function formatDate(_0xf14cx18, _0xf14cx19, _0xf14cx1a) { var _0xf14cx1b = new Date(parseInt(_0xf14cx18[__Ox228c1[0x16]](6, 19))); var _0xf14cx1c = _0xf14cx1b[__Ox228c1[0x17]](); var _0xf14cx1d = _0xf14cx1b[__Ox228c1[0x18]]() + 1; var _0xf14cx1e = _0xf14cx1b[__Ox228c1[0x19]](); var _0xf14cx1f = _0xf14cx1b[__Ox228c1[0x1a]](); var _0xf14cx20 = _0xf14cx1b[__Ox228c1[0x1b]](); var _0xf14cx21 = _0xf14cx1b[__Ox228c1[0x1c]](); return _0xf14cx1d + __Ox228c1[0x1d] + _0xf14cx1e } function PowerKehuIndustryData_FX(_0xf14cx23, _0xf14cx24, _0xf14cx25, _0xf14cx26) { var _0xf14cx27 = []; var _0xf14cx28 = []; var _0xf14cx29 = []; var _0xf14cx2a = []; var _0xf14cx2b = []; $[__Ox228c1[0x21]](_0xf14cx23, function (_0xf14cx2c, _0xf14cx2d) { _0xf14cx27[__Ox228c1[0x1e]](formatDate(_0xf14cx2d.RecordTime)); _0xf14cx28[__Ox228c1[0x1e]](_0xf14cx2d.SumUsePower); _0xf14cx29[__Ox228c1[0x1e]](_0xf14cx2d.SumPlanUsePower); _0xf14cx2b[__Ox228c1[0x1e]](_0xf14cx2d.AllDeviationRate); if (_0xf14cx25[__Ox228c1[0xc]] > 0) { _0xf14cx2a[__Ox228c1[0x1e]](_0xf14cx25[0x0][__Ox228c1[0x20]][__Ox228c1[0x1f]](2)) } }); var _0xf14cx2e = 0, _0xf14cx2f = 0; if (_0xf14cx26 != null) { _0xf14cx2e = _0xf14cx26[__Ox228c1[0x22]] - 4; _0xf14cx2f = _0xf14cx26[__Ox228c1[0x22]] + 8 }; var _0xf14cx30 = { title: { text: __Ox228c1[0x0], subtext: _0xf14cx24 + __Ox228c1[0x23] }, tooltip: { trigger: __Ox228c1[0x24] }, legend: { data: [__Ox228c1[0x25], __Ox228c1[0x26], __Ox228c1[0x27]] }, toolbox: { show: true, feature: { dataZoom: { yAxisIndex: __Ox228c1[0x28] }, dataView: { readOnly: false }, magicType: { type: [__Ox228c1[0x29], __Ox228c1[0x2a]] }, restore: {}, saveAsImage: {} } }, xAxis: { type: __Ox228c1[0x2b], boundaryGap: false, data: _0xf14cx27 }, yAxis: [{ type: __Ox228c1[0x2c], axisLabel: { formatter: __Ox228c1[0x2d] } }, { type: __Ox228c1[0x2c], axisLabel: { formatter: __Ox228c1[0x2e] } }], series: [{ name: __Ox228c1[0x25], type: __Ox228c1[0x29], data: _0xf14cx28, yAxisIndex: 0 }, { name: __Ox228c1[0x26], type: __Ox228c1[0x29], data: _0xf14cx29, yAxisIndex: 0 }, { name: __Ox228c1[0x27], type: __Ox228c1[0x29], yAxisIndex: 1, data: _0xf14cx2b }] }; myChart1[__Ox228c1[0xe]](); myChart1[__Ox228c1[0x2f]](_0xf14cx30) } function getLastMonthData_FX() { myChart2[__Ox228c1[0xe]](); $[__Ox228c1[0x15]](__Ox228c1[0xf], { type: 2, uid: $(__Ox228c1[0xb])[__Ox228c1[0xa]](__Ox228c1[0x10]) }, function (_0xf14cx14) { PowerKehuAreaData_FX(_0xf14cx14[__Ox228c1[0x11]], _0xf14cx14[__Ox228c1[0x12]], _0xf14cx14[__Ox228c1[0x13]], _0xf14cx14[__Ox228c1[0x14]]) }) } function PowerKehuAreaData_FX(_0xf14cx23, _0xf14cx24, _0xf14cx25, _0xf14cx26) { var _0xf14cx27 = []; var _0xf14cx28 = []; var _0xf14cx29 = []; var _0xf14cx2a = []; var _0xf14cx2b = []; $[__Ox228c1[0x21]](_0xf14cx23, function (_0xf14cx2c, _0xf14cx2d) { _0xf14cx27[__Ox228c1[0x1e]](formatDate(_0xf14cx2d.RecordTime)); _0xf14cx28[__Ox228c1[0x1e]](_0xf14cx2d.SumUsePower); _0xf14cx29[__Ox228c1[0x1e]](_0xf14cx2d.SumPlanUsePower); _0xf14cx2b[__Ox228c1[0x1e]](_0xf14cx2d.AllDeviationRate); if (_0xf14cx25[__Ox228c1[0xc]] > 0) { _0xf14cx2a[__Ox228c1[0x1e]](_0xf14cx25[0x0][__Ox228c1[0x20]][__Ox228c1[0x1f]](2)) } }); var _0xf14cx2e = 0, _0xf14cx2f = 0; if (_0xf14cx26 != null) { _0xf14cx2e = _0xf14cx26[__Ox228c1[0x22]] - 4; _0xf14cx2f = _0xf14cx26[__Ox228c1[0x22]] + 8 }; var _0xf14cx33 = { title: { text: __Ox228c1[0x0], subtext: _0xf14cx24 + __Ox228c1[0x23] }, tooltip: { trigger: __Ox228c1[0x24] }, legend: { data: [__Ox228c1[0x25], __Ox228c1[0x26], __Ox228c1[0x27]] }, toolbox: { show: true, feature: { dataZoom: { yAxisIndex: __Ox228c1[0x28] }, dataView: { readOnly: false }, magicType: { type: [__Ox228c1[0x29], __Ox228c1[0x2a]] }, restore: {}, saveAsImage: {} } }, xAxis: { type: __Ox228c1[0x2b], boundaryGap: false, data: _0xf14cx27 }, yAxis: [{ type: __Ox228c1[0x2c], axisLabel: { formatter: __Ox228c1[0x2d] } }, { type: __Ox228c1[0x2c], axisLabel: { formatter: __Ox228c1[0x2e] } }], series: [{ name: __Ox228c1[0x25], type: __Ox228c1[0x29], yAxisIndex: 0, data: _0xf14cx28 }, { name: __Ox228c1[0x26], type: __Ox228c1[0x29], yAxisIndex: 0, data: _0xf14cx29 }, { name: __Ox228c1[0x27], type: __Ox228c1[0x29], yAxisIndex: 1, data: _0xf14cx2b }] }; myChart2[__Ox228c1[0xe]](); myChart2[__Ox228c1[0x2f]](_0xf14cx33) }